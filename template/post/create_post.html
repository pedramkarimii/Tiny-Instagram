{% extends 'base/bases.html' %}
{% block title %}
    <title>Create Post</title>
{% endblock %}
{% block create_posts %}
{% if request.user.is_authenticated %}
    <div class=" flex flex-col items-center justify-center">
    <div class="bg-gradient-to-r from-gray-300 via-gray-100 to-gray-300 max-w-md mt-2 mb-8 w-full  rounded-lg shadow-lg">
{##}
            <h2 class="text-3xl font-extrabold mt-4 text-center text-gray-700 mb-4">Create Post</h2>
            <form action="{% url 'create_post'  %}" class="space-y-4" method="post" enctype="multipart/form-data">
                {% csrf_token %}
            <div class="block text-sm font-medium text-gray-800 pl-14">
                   {{ form.as_p | safe }}
{#                   {{ form.title | safe }}#}
{#                <input type="file" name="Image">#}
{#                <div class="mb-4">#}
{#                    <label for="description" class="block text-sm font-medium text-gray-700">Description</label>#}
{#                    <textarea id="description" name="description" rows="4"#}
{#                              class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"></textarea>#}
                </div>
{#                <div class="mb-4">#}
{#                    <label for="Image" class="block text-sm font-medium text-gray-700">Image 1</label>#}
{#                    <input type="file" id="Image" name="Image" class="mt-1 block w-full">#}
{#                </div>#}
{#                <div id="additionalImages"></div>#}
{#                <div class="mt-4">#}
{#                    <button type="button" onclick="addMoreImage()"#}
{#                            class="inline-block bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Add More#}
{#                        Image#}
{#                    </button>#}
{#            </div>#}
                <div>
                     <button
                            class="w-full mt-4 py-2 px-24 bg-opacity-60 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-800 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Create </button>
                </div>
            </form>
        </div>
    </div>
{% endif %}
 <script>
        let imageCounter = 2; // Start with image2

        function addMoreImage() {
            if (imageCounter <= 4) {
                const additionalImagesContainer = document.getElementById('additionalImages');
                const inputField = document.createElement('div');
                inputField.classList.add('mb-4');
                inputField.innerHTML = `
                    <label for="Image${imageCounter}" class="block text-sm font-medium text-gray-700">Image ${imageCounter}</label>
                    <input type="file" id="Image${imageCounter}" name="Image${imageCounter}" class="mt-1 block w-full">
                `;
                additionalImagesContainer.appendChild(inputField);
                imageCounter++;
            } else {
                alert("You can add a maximum of 4 images.");
            }
        }
    </script>
{% endblock %}